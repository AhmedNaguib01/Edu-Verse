paths:
  /courses:
    get:
      tags:
        - Courses
      summary: Get all courses
      description: Retrieve a list of all available courses
      responses:
        "200":
          description: List of courses
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Course"

    post:
      tags:
        - Courses
      summary: Create a new course
      description: Create a new course (instructor only)
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - _id
                - name
                - description
                - creditHours
              properties:
                _id:
                  type: string
                  example: CS101
                name:
                  type: string
                  example: Introduction to Programming
                description:
                  type: string
                  example: Learn programming fundamentals
                creditHours:
                  type: number
                  example: 3
                capacity:
                  type: number
                  example: 30
      responses:
        "201":
          description: Course created successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Course"
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /courses/{id}:
    get:
      tags:
        - Courses
      summary: Get course by ID
      description: Retrieve detailed information about a specific course
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          description: Course ID
          example: CS101
      responses:
        "200":
          description: Course details
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Course"
        "404":
          description: Course not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

    delete:
      tags:
        - Courses
      summary: Delete a course
      description: Delete a course (instructor only)
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          description: Course ID
          example: CS101
      responses:
        "200":
          description: Course deleted successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Course deleted successfully
        "404":
          description: Course not found
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /courses/{id}/enroll:
    post:
      tags:
        - Courses
      summary: Enroll in a course
      description: Enroll a student in a course
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          description: Course ID
          example: CS101
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - studentId
              properties:
                studentId:
                  type: string
                  example: 507f1f77bcf86cd799439011
      responses:
        "200":
          description: Enrolled successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Student enrolled successfully
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /courses/{id}/unenroll:
    post:
      tags:
        - Courses
      summary: Unenroll from a course
      description: Remove a student from a course
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
          description: Course ID
          example: CS101
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - studentId
              properties:
                studentId:
                  type: string
                  example: 507f1f77bcf86cd799439011
      responses:
        "200":
          description: Unenrolled successfully
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
                    example: Student unenrolled successfully
        "400":
          description: Bad request
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /courses/enrolled/{userId}:
    get:
      tags:
        - Courses
      summary: Get enrolled courses
      description: Get all courses a user is enrolled in
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: string
          description: User ID
          example: 507f1f77bcf86cd799439011
      responses:
        "200":
          description: List of enrolled courses
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/Course"
